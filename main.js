(()=>{"use strict";async function t(t,e){let n,i={location:{},now:{},forecast:[]};return await async function(t,e){await fetch(`http://api.weatherapi.com/v1/forecast.json?key=${e}&q=${t}&days=3`).then((t=>t.json())).then((t=>n=t))}(t,e),i.location.country=n.location.country,i.location.city=n.location.name,i.location.time=n.location.localtime,i.now.celsius=n.current.temp_c,i.now.farenheit=n.current.temp_f,i.now.icon=n.current.condition.icon,i.now.condition=n.current.condition.text,n.forecast.forecastday.forEach((t=>{i.forecast.push({date:t.date,maxCelsius:t.day.maxtemp_c,minCelsius:t.day.mintemp_c,maxFarenheit:t.day.maxtemp_f,minFarenheit:t.day.mintemp_f,condition:t.day.condition.text,icon:t.day.condition.icon})})),i}class e{constructor(t,e,n){this.now=t,this.forecast=e,this.selectedUnit=n}renderToday(){const t=document.createElement("div"),e=document.createElement("h2"),n=document.createElement("img"),i=document.createElement("h3"),c=document.createElement("p");return t.classList.add("current-card"),t.appendChild(e),t.appendChild(n),t.appendChild(i),t.appendChild(c),e.textContent=new Date,n.src=this.now.icon,i.textContent=this.now.condition,c.textContent="farenheit"===this.selectedUnit?this.now.farenheit:this.now.celsius,t}renderFuture(){let t=[];return this.forecast.forEach((e=>{let n=function(t,e,n,i,c,a,o,d){const r=document.createElement("div"),l=document.createElement("h2"),s=document.createElement("img"),u=document.createElement("h3"),m=document.createElement("p"),p=document.createElement("p");return r.classList.add("current-card"),r.appendChild(l),r.appendChild(s),r.appendChild(u),r.appendChild(m),r.appendChild(p),l.textContent=t,s.src=e,u.textContent=n,m.textContent="farenheit"===d?a:i,p.textContent="farenheit"===d?o:c,r}(e.date,e.icon,e.condition,e.maxCelsius,e.minCelsius,e.maxFarenheit,e.minFarenheit,this.selectedUnit);t.push(n)})),t}}const n="b58c63519071410d91613011243003",i=document.querySelector(".root-div");!async function(){const c=await async function(){return(async()=>{try{let t=await new Promise(((t,e)=>navigator.geolocation.getCurrentPosition(t,e)));return{latitude:t.coords.latitude,longitude:t.coords.longitude}}catch(t){console.log(t.message)}})()}(),a=await t(`${c.latitude},${c.longitude}`,n);console.log(a),function(){const t=document.querySelector(".root-div"),e=document.createElement("div"),n=document.createElement("form"),i=document.createElement("label"),c=document.createElement("input"),a=document.createElement("input"),o=document.createElement("form"),d=document.createElement("label"),r=document.createElement("input"),l=document.createElement("label"),s=document.createElement("input");i.setAttribute("for","location-input"),c.setAttribute("id","location-input"),c.setAttribute("type","text"),c.setAttribute("placeholder","Enter City, Zip, etc."),a.setAttribute("type","submit"),a.setAttribute("value","Search"),a.classList.add("submit-btn"),a.classList.add("btn"),o.setAttribute("id","temp-swtch"),r.setAttribute("type","radio"),r.setAttribute("name","temp-select"),r.setAttribute("id","celsius-switch"),r.setAttribute("value","celsius"),r.classList.add("temp-switch"),s.setAttribute("type","radio"),s.setAttribute("name","temp-select"),s.setAttribute("id","farenheit-switch"),s.setAttribute("value","farenheit"),s.classList.add("temp-switch"),n.appendChild(i),n.appendChild(c),n.appendChild(a),o.appendChild(d),o.appendChild(r),o.appendChild(l),o.appendChild(s),i.textContent="Change Location:",d.textContent="C°",l.textContent="F°",e.appendChild(n),e.appendChild(o),t.appendChild(e)}();let o="farenheit",d=new e(a.now,a.forecast,o),r=d.renderFuture();i.appendChild(d.renderToday()),r.forEach((t=>i.appendChild(t))),document.querySelector(".submit-btn").addEventListener("click",(async e=>{e.preventDefault();let i=document.querySelector("#location-input").value;console.log(await t(i,n))})),document.querySelectorAll(".temp-switch").forEach((t=>{t.addEventListener("click",(t=>{o=t.target.value,i.innerHTML="",i.appendChild(d.renderToday())}))}))}()})();